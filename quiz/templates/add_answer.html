{% extends "base.html" %}

{% block title %}Add Answers for "{{ question.question_text }}"{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4 text-center">Add Answers for "{{ question.question_text }}"</h1>

    <form method="post">
        {% csrf_token %}
        
        <!-- Answer Fields Container -->
        <div id="answer-container">
            <!-- Answer A -->
            <div class="mb-3" id="answer-group-0">
                <div class="form-group">
                    <label for="answer_text_0" class="fw-bold">Answer A</label>
                    <textarea name="answer_text[]" class="form-control" placeholder="Enter answer text" rows="3" required></textarea>
                </div>
                <div class="form-check mt-2">
                    <input type="checkbox" name="is_correct[]" value="0" class="form-check-input">
                    <label class="form-check-label">Correct Answer</label>
                </div>
            </div>

            <!-- Answer B -->
            <div class="mb-3" id="answer-group-1">
                <div class="form-group">
                    <label for="answer_text_1" class="fw-bold">Answer B</label>
                    <textarea name="answer_text[]" class="form-control" placeholder="Enter answer text" rows="3" required></textarea>
                </div>
                <div class="form-check mt-2">
                    <input type="checkbox" name="is_correct[]" value="1" class="form-check-input">
                    <label class="form-check-label">Correct Answer</label>
                </div>
            </div>

            {% if question_type == 'Multiple Choice' %}
                <!-- Answer C -->
                <div class="mb-3" id="answer-group-2">
                    <div class="form-group">
                        <label for="answer_text_2" class="fw-bold">Answer C</label>
                        <textarea name="answer_text[]" class="form-control" placeholder="Enter answer text" rows="3"></textarea>
                    </div>
                    <div class="form-check mt-2">
                        <input type="checkbox" name="is_correct[]" value="2" class="form-check-input">
                        <label class="form-check-label">Correct Answer</label>
                    </div>
                </div>

                <!-- Answer D -->
                <div class="mb-3" id="answer-group-3">
                    <div class="form-group">
                        <label for="answer_text_3" class="fw-bold">Answer D</label>
                        <textarea name="answer_text[]" class="form-control" placeholder="Enter answer text" rows="3"></textarea>
                    </div>
                    <div class="form-check mt-2">
                        <input type="checkbox" name="is_correct[]" value="3" class="form-check-input">
                        <label class="form-check-label">Correct Answer</label>
                    </div>
                </div>
            {% endif %}
        </div>

        <!-- Button Row -->
        <div class="d-flex justify-content-between mt-4">
            <div>
                <button type="submit" class="btn btn-success">
                    <i class="fas fa-save"></i> Save Answers
                </button>
            </div>
            <a href="{% url 'quiz:quiz_question_list' question.quiz.id %}" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Back to Questions
            </a>
        </div>
    </form>
</div>
{% endblock %}
